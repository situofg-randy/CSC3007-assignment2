{"ast":null,"code":"import _toConsumableArray from\"/Users/angrandy/Desktop/CSC3007-assignment2/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/angrandy/Desktop/CSC3007-assignment2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{print}from\"./print\";import StackedBarChart from\"./StackedBarChart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Barchart=function Barchart(){var input=require(\"./data.json\");var year=new Set();Object.values(input).forEach(function(v){year.add(v.year);});year=Array.from(year);var allKeys=new Set();Object.values(input).forEach(function(v){allKeys.add(v.level_2);});allKeys=Array.from(allKeys);var res=input.reduce(function(acc,_ref){var year=_ref.year,level_2=_ref.level_2,value=_ref.value;acc[year]=acc[year]||new Set();acc[year][level_2]=parseInt(value);acc[year][\"year\"]=parseInt(year);return acc;},{});var data=[];year.forEach(function(k){data.push(res[k]);});var getRandomColor=function getRandomColor(){var letters='0123456789ABCDEF';var color='#';for(var i=0;i<6;i++){color+=letters[Math.floor(Math.random()*16)];}return color;};var color=[\"#656431\",\"#68A696\",\"#9F2964\",\"#C19131\",\"#A5235F\",\"#67ED30\",\"#14C069\",\"#109AE0\",\"#DCB545\",\"#BF354F\"];var colors={};for(var v in allKeys){colors[allKeys[v]]=color[v];}print(year);var _useState=useState(allKeys),_useState2=_slicedToArray(_useState,2),keys=_useState2[0],setKeys=_useState2[1];return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Cases Recorded For Major Offences  \"}),/*#__PURE__*/_jsx(StackedBarChart,{data:data,keys:keys,colors:colors}),/*#__PURE__*/_jsx(\"div\",{className:\"fields\",children:allKeys.map(function(key){return/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"input\",{id:key,type:\"checkbox\",checked:keys.includes(key),onChange:function onChange(e){if(e.target.checked){setKeys(Array.from(new Set([].concat(_toConsumableArray(keys),[key]))));}else{setKeys(keys.filter(function(_key){return _key!==key;}));}}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:key,style:{color:colors[key]},children:key})]},key);})})]});};","map":{"version":3,"names":["React","useState","print","StackedBarChart","Barchart","input","require","year","Set","Object","values","forEach","v","add","Array","from","allKeys","level_2","res","reduce","acc","value","parseInt","data","k","push","getRandomColor","letters","color","i","Math","floor","random","colors","keys","setKeys","map","key","includes","e","target","checked","filter","_key"],"sources":["/Users/angrandy/Desktop/CSC3007-assignment2/src/Barchart.js"],"sourcesContent":["import React from \"react\";  \nimport { useState } from \"react\";\nimport { print } from \"./print\";  \nimport StackedBarChart from \"./StackedBarChart\"\n\nexport const Barchart = () => {\n    const input = require(\"./data.json\")\n    \n    let year = new Set()\n    Object.values(input).forEach((v) => {year.add(v.year)})    \n    year = Array.from(year)\n    \n    let allKeys = new Set()\n    Object.values(input).forEach((v) => {allKeys.add(v.level_2)})      \n    allKeys = Array.from(allKeys)\n\n    let res = input.reduce((acc, {year, level_2, value}) =>\n    {\n        acc[year] = acc[year] || new Set();\n        acc[year][level_2] = parseInt(value)\n        acc[year][\"year\"] = parseInt(year)\n        return acc;\n    }, {})\n\n    let data = []\n\n    year.forEach(k => {\n         data.push(res[k])\n    });\n\n\n    const getRandomColor = () => {\n        let letters = '0123456789ABCDEF';\n        let color = '#';\n        for (let i = 0; i < 6; i++) {\n          color += letters[Math.floor(Math.random() * 16)];\n        }\n        return color;\n    }\n\n    let color = [\n        \"#656431\",\n        \"#68A696\",\n        \"#9F2964\",\n        \"#C19131\",\n        \"#A5235F\",\n        \"#67ED30\",\n        \"#14C069\",\n        \"#109AE0\",\n        \"#DCB545\",\n        \"#BF354F\"\n    ]\n\n    let colors = {}\n    for (let v in allKeys) {\n        colors[allKeys[v]] = color[v]\n    }\n\n    print(year)\n\n    const [keys, setKeys] = useState(allKeys)\n\n    \n    return (\n        <React.Fragment>\n            <h2>Cases Recorded For Major Offences  </h2>\n            <StackedBarChart data={data} keys={keys} colors={colors} />\n\n            <div className=\"fields\">\n                {allKeys.map(key => (\n                <div key={key} className=\"field\">\n                    <input\n                    id={key}\n                    type=\"checkbox\"\n                    checked={keys.includes(key)}\n                    onChange={e => {\n                        if (e.target.checked) {\n                        setKeys(Array.from(new Set([...keys, key])));\n                        } else {\n                        setKeys(keys.filter(_key => _key !== key));\n                        }\n                    }}\n                    />\n                    <label htmlFor={key} style={{ color: colors[key] }}>\n                    {key}\n                    </label>\n                </div>\n                ))}\n            </div>\n        </React.Fragment>\n    )\n}\n\n\n\n\n"],"mappings":"0QAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,KAAT,KAAsB,SAAtB,CACA,MAAOC,gBAAP,KAA4B,mBAA5B,C,wFAEA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAC1B,GAAMC,MAAK,CAAGC,OAAO,CAAC,aAAD,CAArB,CAEA,GAAIC,KAAI,CAAG,GAAIC,IAAJ,EAAX,CACAC,MAAM,CAACC,MAAP,CAAcL,KAAd,EAAqBM,OAArB,CAA6B,SAACC,CAAD,CAAO,CAACL,IAAI,CAACM,GAAL,CAASD,CAAC,CAACL,IAAX,EAAiB,CAAtD,EACAA,IAAI,CAAGO,KAAK,CAACC,IAAN,CAAWR,IAAX,CAAP,CAEA,GAAIS,QAAO,CAAG,GAAIR,IAAJ,EAAd,CACAC,MAAM,CAACC,MAAP,CAAcL,KAAd,EAAqBM,OAArB,CAA6B,SAACC,CAAD,CAAO,CAACI,OAAO,CAACH,GAAR,CAAYD,CAAC,CAACK,OAAd,EAAuB,CAA5D,EACAD,OAAO,CAAGF,KAAK,CAACC,IAAN,CAAWC,OAAX,CAAV,CAEA,GAAIE,IAAG,CAAGb,KAAK,CAACc,MAAN,CAAa,SAACC,GAAD,MACvB,IAD8Bb,KAC9B,MAD8BA,IAC9B,CADoCU,OACpC,MADoCA,OACpC,CAD6CI,KAC7C,MAD6CA,KAC7C,CACID,GAAG,CAACb,IAAD,CAAH,CAAYa,GAAG,CAACb,IAAD,CAAH,EAAa,GAAIC,IAAJ,EAAzB,CACAY,GAAG,CAACb,IAAD,CAAH,CAAUU,OAAV,EAAqBK,QAAQ,CAACD,KAAD,CAA7B,CACAD,GAAG,CAACb,IAAD,CAAH,CAAU,MAAV,EAAoBe,QAAQ,CAACf,IAAD,CAA5B,CACA,MAAOa,IAAP,CACH,CANS,CAMP,EANO,CAAV,CAQA,GAAIG,KAAI,CAAG,EAAX,CAEAhB,IAAI,CAACI,OAAL,CAAa,SAAAa,CAAC,CAAI,CACbD,IAAI,CAACE,IAAL,CAAUP,GAAG,CAACM,CAAD,CAAb,EACJ,CAFD,EAKA,GAAME,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CACzB,GAAIC,QAAO,CAAG,kBAAd,CACA,GAAIC,MAAK,CAAG,GAAZ,CACA,IAAK,GAAIC,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,CAApB,CAAuBA,CAAC,EAAxB,CAA4B,CAC1BD,KAAK,EAAID,OAAO,CAACG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,EAA3B,CAAD,CAAhB,CACD,CACD,MAAOJ,MAAP,CACH,CAPD,CASA,GAAIA,MAAK,CAAG,CACR,SADQ,CAER,SAFQ,CAGR,SAHQ,CAIR,SAJQ,CAKR,SALQ,CAMR,SANQ,CAOR,SAPQ,CAQR,SARQ,CASR,SATQ,CAUR,SAVQ,CAAZ,CAaA,GAAIK,OAAM,CAAG,EAAb,CACA,IAAK,GAAIrB,EAAT,GAAcI,QAAd,CAAuB,CACnBiB,MAAM,CAACjB,OAAO,CAACJ,CAAD,CAAR,CAAN,CAAqBgB,KAAK,CAAChB,CAAD,CAA1B,CACH,CAEDV,KAAK,CAACK,IAAD,CAAL,CAEA,cAAwBN,QAAQ,CAACe,OAAD,CAAhC,wCAAOkB,IAAP,eAAaC,OAAb,eAGA,mBACI,MAAC,KAAD,CAAO,QAAP,yBACI,2DADJ,cAEI,KAAC,eAAD,EAAiB,IAAI,CAAEZ,IAAvB,CAA6B,IAAI,CAAEW,IAAnC,CAAyC,MAAM,CAAED,MAAjD,EAFJ,cAII,YAAK,SAAS,CAAC,QAAf,UACKjB,OAAO,CAACoB,GAAR,CAAY,SAAAC,GAAG,qBAChB,aAAe,SAAS,CAAC,OAAzB,wBACI,cACA,EAAE,CAAEA,GADJ,CAEA,IAAI,CAAC,UAFL,CAGA,OAAO,CAAEH,IAAI,CAACI,QAAL,CAAcD,GAAd,CAHT,CAIA,QAAQ,CAAE,kBAAAE,CAAC,CAAI,CACX,GAAIA,CAAC,CAACC,MAAF,CAASC,OAAb,CAAsB,CACtBN,OAAO,CAACrB,KAAK,CAACC,IAAN,CAAW,GAAIP,IAAJ,8BAAY0B,IAAZ,GAAkBG,GAAlB,GAAX,CAAD,CAAP,CACC,CAFD,IAEO,CACPF,OAAO,CAACD,IAAI,CAACQ,MAAL,CAAY,SAAAC,IAAI,QAAIA,KAAI,GAAKN,GAAb,EAAhB,CAAD,CAAP,CACC,CACJ,CAVD,EADJ,cAaI,cAAO,OAAO,CAAEA,GAAhB,CAAqB,KAAK,CAAE,CAAET,KAAK,CAAEK,MAAM,CAACI,GAAD,CAAf,CAA5B,UACCA,GADD,EAbJ,GAAUA,GAAV,CADgB,EAAf,CADL,EAJJ,GADJ,CA4BH,CAtFM"},"metadata":{},"sourceType":"module"}